<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>React教程2-组件的三大属性（state）</title>
    <script src="https://cdn.bootcss.com/react/15.4.2/react.min.js"></script>
    <script src="https://cdn.bootcss.com/react/15.4.2/react-dom.min.js"></script>
    <script src="https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js"></script>
</head>
<body>
    <div id="ex0"></div>
    <script type="text/babel">
    /*
    需求：定义组件，显示h2标题，初始文本为，你喜欢我；点击标题文本更新为，我喜欢你；
    */
    // 1.定义组件
        class MyComponent extends React.Component
        {
            constructor(props) {
                super(props);
                // 初始化状态
                this.state = {
                    isLikeMe: true,
                }
                // 将新增的方法中的this强制绑定为组件的this
                this.handleClick = this.handleClick.bind(this);
            }
            
            // 新添加的方法，内部默认的this是undefined
            handleClick()
            {
                // 更新状态
                console.log(this);
                
                var isLikeMe = !this.state.isLikeMe;
                this.setState({isLikeMe: isLikeMe});
            }
            render()
            {
                // 读取状态
                var isLikeMe = this.state.isLikeMe;
                // 注意这里的onClick是react自己封装的消息，和原生的不同
                return <h2 onClick = {this.handleClick}>{isLikeMe? '你喜欢我' :'我喜欢你'}</h2>;
            }
        }
    // 2.渲染组件
        ReactDOM.render(<MyComponent/>, document.getElementById('ex0'));
    </script>
</body>

</html>